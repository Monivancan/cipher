# Cipher Environment Configuration
# Local development setup with Google LLM and Coolify-hosted Supabase

# ====================
# API Configuration
# ====================
# Google Gemini API (already configured)
GEMINI_API_KEY=AIzaSyAs2M1ImrO-LPpuJguiuAKfSYIW_mRphOo

# ====================
# Application Settings
# ====================
NODE_ENV=development
CIPHER_LOG_LEVEL=info
REDACT_SECRETS=true

# ====================
# Coolify-hosted Supabase Database Configuration
# ====================
# Note: For Coolify-hosted Supabase, you may need to:
# 1. Use the correct host (not 127.0.0.1 unless port-forwarded)
# 2. Check Coolify dashboard for the actual database connection details
# 3. Ensure the database port is exposed externally
CIPHER_PG_URL=postgresql://postgres:wLuCT7fiklmGswfe@db.yfaudsacrjdftfywutvu.supabase.co:5432/postgres

# ====================
# Vector Store Configuration (Supabase pgvector)
# ====================
VECTOR_STORE_TYPE=pgvector
VECTOR_STORE_URL=postgresql://postgres:wLuCT7fiklmGswfe@db.yfaudsacrjdftfywutvu.supabase.co:5432/postgres
VECTOR_STORE_COLLECTION=knowledge_memory
VECTOR_STORE_DIMENSION=768
VECTOR_STORE_DISTANCE=Cosine

# ====================
# Reflection Memory Configuration
# ====================
REFLECTION_VECTOR_STORE_COLLECTION=reflection_memory
DISABLE_REFLECTION_MEMORY=false

# ====================
# Memory Search Configuration
# ====================
SEARCH_MEMORY_TYPE=both

# ====================
# Web Search Configuration
# ====================
WEB_SEARCH_ENABLE=true
WEB_SEARCH_ENGINE=duckduckgo
WEB_SEARCH_SAFETY_MODE=strict
WEB_SEARCH_MAX_RESULTS=2
WEB_SEARCH_RATE_LIMIT=10

# ====================
# Embedding Configuration
# ====================
# Using Gemini embeddings (matches Google LLM)
EMBEDDING_MODEL=gemini-embedding-001

# ====================
# MCP Configuration
# ====================
MCP_GLOBAL_TIMEOUT=30000

# Enable query refinement for better retrieval
ENABLE_QUERY_REFINEMENT=true